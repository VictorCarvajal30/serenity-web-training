serenity.test.root = todomvc
headless.mode = true

environment = "angular,run_with_chrome"

# Custom report data
report {
  customfields {
    ApplicationVersion = 1.2.3
    platform = "#{target_plaform}"
    driver = "#{webdriver.driver}"
    user = ${USER}
    order = "ApplicationVersion,driver,platform,user"
  }
}

serenity.report.url = "https://serenity-dojo.github.io/serenity-web-training/"

environments {
  #
  # Browser configurations
  #
  run_with_chrome {
    webdriver {
      driver = "chrome"
      capabilities {
        browserName = "chrome"
        "goog:chromeOptions" {
          args = ["test-type", "ignore-certificate-errors", "headless"
            "incognito", "disable-infobars", "disable-gpu", "disable-default-apps", "disable-popup-blocking"]
        }
      }
    }
  }

  run_with_firefox {
    webdriver.driver = firefox
  }
  #
  # Target environments
  #
  angular {
    target_plaform = angular
    pages {
      home = "https://todomvc.com/examples/angularjs/#/"
    }
  }
  react {
    target_plaform = react
    pages {
      home = "https://todomvc.com/examples/react/#/"
    }
  }
  vue {
    target_plaform = vue
    pages {
      home = "https://todomvc.com/examples/vue"
    }
  }
}
